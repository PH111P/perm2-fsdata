// getting the quick claw
#include "scriptlib.m4.h"

CHECK_FLAG( 53, 0, 2 )
    MESSAGE( 234, 0 )
    JUMP_TO_END
GET_MAPOBJECT( 15, 16, 3 )
COPY_REGISTER( 0, 1 )
// Check where the player is standing, move teacher accordingly
CHECK_PLAYER_POS( 16, 16, 3 )
CHECK_REGISTER( 0, 0, 11 )
    MOVE_MAPOBJECT_R( 1, LEFT, 1 )
    MOVE_MAPOBJECT_R( 1, DOWN, 2 )
    MOVE_MAPOBJECT_R( 1, RIGHT, 1 )
    MOVE_MAPOBJECT_R( 1, DOWN, 1 )
    MOVE_MAPOBJECT_R( 1, LEFT, 1 )
    MOVE_MAPOBJECT_R( 1, RIGHT, 3 )
    MOVE_MAPOBJECT_R( 1, LEFT, 2 )
    MOVE_MAPOBJECT_R( 1, UP, 1 )
    MOVE_MAPOBJECT_R( 1, LEFT, 1 )
    MOVE_MAPOBJECT_R( 1, UP, 2 )
    MOVE_MAPOBJECT_R( 1, RIGHT, 1 )
CHECK_PLAYER_POS( 14, 16, 3 )
CHECK_REGISTER( 0, 0, 11 )
    MOVE_MAPOBJECT_R( 1, RIGHT, 2 )
    MOVE_MAPOBJECT_R( 1, DOWN, 2 )
    MOVE_MAPOBJECT_R( 1, LEFT, 2 )
    MOVE_MAPOBJECT_R( 1, DOWN, 1 )
    MOVE_MAPOBJECT_R( 1, LEFT, 1 )
    MOVE_MAPOBJECT_R( 1, RIGHT, 3 )
    MOVE_MAPOBJECT_R( 1, LEFT, 2 )
    MOVE_MAPOBJECT_R( 1, UP, 1 )
    MOVE_MAPOBJECT_R( 1, RIGHT, 2 )
    MOVE_MAPOBJECT_R( 1, UP, 2 )
    MOVE_MAPOBJECT_R( 1, LEFT, 2 )
MESSAGE( 233, 0 )
SET_FLAG( 53, 1 )
GIVE_ITEM( I_QUICK_CLAW, 1 )
MOVE_MAPOBJECT_R( 1, DOWN, 0 )
END_OF_PROGRAM
